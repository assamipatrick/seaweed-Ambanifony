import{g as f,s as i,h as d}from"./index-CrUSRkiO.js";function l(t){const e={};for(const r in t)if(t.hasOwnProperty(r)){const s=r.replace(/([A-Z])/g,"_$1").toLowerCase();e[s]=t[r]}return e}function u(t){const e={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];e[r]=s===""?null:s}return e}async function m(){const{data:t,error:e}=await i.from("sites").select("*").order("name");return e?d(e,"fetchSites")||[]:t||[]}async function h(t){const{zones:e,...r}=t,s=u(r),a=l(s),n={id:f(),...a},{data:o,error:c}=await i.from("sites").insert([n]).select().single();return c?d(c,"addSite"):o}async function T(t){const{id:e,zones:r,...s}=t,a=u(s),n=l(a),{data:o,error:c}=await i.from("sites").update(n).eq("id",e).select().single();return c?d(c,"updateSite"):o}async function k(t){const{error:e}=await i.from("sites").delete().eq("id",t);return e?(d(e,"deleteSite"),!1):!0}async function p(){const{data:t,error:e}=await i.from("employees").select("*").order("name");return e?d(e,"fetchEmployees")||[]:t||[]}async function M(t){const e=u(t),r=l(e),s={id:f(),...r},{data:a,error:n}=await i.from("employees").insert([s]).select().single();return n?d(n,"addEmployee"):a}async function q(t){const{id:e,...r}=t,s=u(r),a=l(s),{data:n,error:o}=await i.from("employees").update(a).eq("id",e).select().single();return o?d(o,"updateEmployee"):n}async function P(t){const{error:e}=await i.from("employees").delete().eq("id",t);return e?(d(e,"deleteEmployee"),!1):!0}async function E(t){const{error:e}=await i.from("employees").delete().in("id",t);return e?(d(e,"deleteMultipleEmployees"),!1):!0}async function w(){const{data:t,error:e}=await i.from("farmers").select("*").order("name");return e?d(e,"fetchFarmers")||[]:t||[]}async function b(t){const e=u(t),r=l(e);if(!r.site_id)return console.error("[addFarmer] Farmer requires site_id (NOT NULL constraint)"),null;const s={id:f(),...r},{data:a,error:n}=await i.from("farmers").insert([s]).select().single();return n?d(n,"addFarmer"):a}async function L(t){const{id:e,...r}=t,s=u(r),a=l(s),{data:n,error:o}=await i.from("farmers").update(a).eq("id",e).select().single();return o?d(o,"updateFarmer"):n}async function z(t){const{error:e}=await i.from("farmers").delete().eq("id",t);return e?(d(e,"deleteFarmer"),!1):!0}async function N(t){const{error:e}=await i.from("farmers").delete().in("id",t);return e?(d(e,"deleteMultipleFarmers"),!1):!0}async function F(){const{data:t,error:e}=await i.from("service_providers").select("*").order("name");return e?d(e,"fetchServiceProviders")||[]:t||[]}async function O(t){const e=u(t),r=l(e),s={id:f(),...r},{data:a,error:n}=await i.from("service_providers").insert([s]).select().single();return n?d(n,"addServiceProvider"):a}async function D(t){const{id:e,...r}=t,s=u(r),a=l(s),{data:n,error:o}=await i.from("service_providers").update(a).eq("id",e).select().single();return o?d(o,"updateServiceProvider"):n}async function I(t){const{error:e}=await i.from("service_providers").delete().eq("id",t);return e?(d(e,"deleteServiceProvider"),!1):!0}async function C(){const{data:t,error:e}=await i.from("credit_types").select("*").order("name");return e?d(e,"fetchCreditTypes")||[]:t||[]}async function U(t){const e=u(t),r=l(e),s={id:f(),...r},{data:a,error:n}=await i.from("credit_types").insert([s]).select().single();return n?d(n,"addCreditType"):a}async function A(t){const{id:e,...r}=t,s=u(r),a=l(s),{data:n,error:o}=await i.from("credit_types").update(a).eq("id",e).select().single();return o?d(o,"updateCreditType"):n}async function x(t){const{error:e}=await i.from("credit_types").delete().eq("id",t);return e?(d(e,"deleteCreditType"),!1):!0}async function v(){const{data:t,error:e}=await i.from("seaweed_types").select("*").order("name");return e?d(e,"fetchSeaweedTypes")||[]:t||[]}async function K(t){const{code:e,growthCycleDays:r,...s}=t,a=u(s),n=l(a),o={id:f(),...n},{data:c,error:y}=await i.from("seaweed_types").insert([o]).select().single();return y?d(y,"addSeaweedType"):c}async function Z(t){const{id:e,code:r,growthCycleDays:s,...a}=t,n=u(a),o=l(n),{data:c,error:y}=await i.from("seaweed_types").update(o).eq("id",e).select().single();return y?d(y,"updateSeaweedType"):c}async function $(t){const{error:e}=await i.from("seaweed_types").delete().eq("id",t);return e?(d(e,"deleteSeaweedType"),!1):!0}async function S(){const{data:t,error:e}=await i.from("modules").select("*").order("name");return e?d(e,"fetchModules")||[]:t||[]}async function B(t){const{managerId:e,...r}=t,s=u(r),a=l(s);if(!a.site_id||!a.zone_id)return console.error("[addModule] Module requires site_id and zone_id (NOT NULL constraints)"),null;const n={id:f(),...a},{data:o,error:c}=await i.from("modules").insert([n]).select().single();return c?d(c,"addModule"):o}async function G(t){const{id:e,managerId:r,...s}=t,a=u(s),n=l(a),{data:o,error:c}=await i.from("modules").update(n).eq("id",e).select().single();return c?d(c,"updateModule"):o}async function H(t){const{error:e}=await i.from("modules").delete().eq("id",t);return e?(d(e,"deleteModule"),!1):!0}async function J(t){const{error:e}=await i.from("modules").delete().in("id",t);return e?(d(e,"deleteMultipleModules"),!1):!0}async function g(){const{data:t,error:e}=await i.from("cultivation_cycles").select("*").order("planted_date",{ascending:!1});return e?d(e,"fetchCultivationCycles")||[]:t||[]}async function Q(t){const e=u(t),r=l(e),s={id:f(),...r},{data:a,error:n}=await i.from("cultivation_cycles").insert([s]).select().single();return n?d(n,"addCultivationCycle"):a}async function R(t){const{id:e,...r}=t,s=u(r),a=l(s),{data:n,error:o}=await i.from("cultivation_cycles").update(a).eq("id",e).select().single();return o?d(o,"updateCultivationCycle"):n}async function V(t){const{error:e}=await i.from("cultivation_cycles").delete().eq("id",t);return e?(d(e,"deleteCultivationCycle"),!1):!0}async function W(){const[t,e,r,s,a,n,o,c]=await Promise.all([m(),p(),w(),F(),C(),v(),S(),g()]);return{sites:t,employees:e,farmers:r,serviceProviders:s,creditTypes:a,seaweedTypes:n,modules:o,cultivationCycles:c}}export{U as addCreditType,Q as addCultivationCycle,M as addEmployee,b as addFarmer,B as addModule,K as addSeaweedType,O as addServiceProvider,h as addSite,x as deleteCreditType,V as deleteCultivationCycle,P as deleteEmployee,z as deleteFarmer,H as deleteModule,E as deleteMultipleEmployees,N as deleteMultipleFarmers,J as deleteMultipleModules,$ as deleteSeaweedType,I as deleteServiceProvider,k as deleteSite,W as fetchAllData,C as fetchCreditTypes,g as fetchCultivationCycles,p as fetchEmployees,w as fetchFarmers,S as fetchModules,v as fetchSeaweedTypes,F as fetchServiceProviders,m as fetchSites,A as updateCreditType,R as updateCultivationCycle,q as updateEmployee,L as updateFarmer,G as updateModule,Z as updateSeaweedType,D as updateServiceProvider,T as updateSite};
